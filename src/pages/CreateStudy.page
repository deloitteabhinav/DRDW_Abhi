<apex:page docType="html-5.0" sidebar="false" showHeader="false" standardStylesheets="true" id="thePage" Standardcontroller="Project__c" extensions="CreateStudyController,PublicationsAndDeliverables" >
    <head>
        <title>Create Research Study</title>
    </head>       
    <body>
        <div class='df_drdw content'>
            <!--Using QFORs Index component for the Top Header -->
            <c:SR2_Index />
            <div class="df_drdw-createstudy">

                <header>
                    
                    <div class="container">
                        <div class="row">
                            <div class="col-xs-12">
                            <apex:outputpanel rendered="{!IF($CurrentPage.parameters.id == NULL,true,false)}">
                                <h1>Create Research Study</h1>
                                <p></p>
                            </apex:outputpanel>
                            
                            <apex:outputpanel rendered="{!IF($CurrentPage.parameters.id != NULL,true,false)}">
                                <h1>Research Study:&nbsp;<apex:outputField value="{!oStudy.Study_Project_ID__c}"/>:&nbsp;<apex:outputField value="{!oStudy.Name}"/></h1>
                                <p> <apex:outputField value="{!oStudy.Description__c}"/></p>
                            </apex:outputpanel>
                            </div>
                        </div>
                    </div>

                </header>
                <apex:outputPanel id="error">
                <apex:outputPanel rendered="{!isError}">                
                <div class="sfdc-errorMessage font-s">
                    <apex:pagemessages escape="false"></apex:pagemessages>
                </div>
                <script>
                    document.body.scrollTop = document.documentElement.scrollTop = 0;
                </script>
                </apex:outputPanel>
                </apex:outputPanel>
                <main class="container">
                
                <!-- ------------------------------------------------------------------------------Firewall Section------------------------------------------------------------------------------------------------- -->
                <apex:outputpanel rendered="{!bIsFirewall}">
                <main class="container">
        <apex:form styleclass="df_drdw-firewall">
            <section class="row firewall-warning">
                <div class="col-xs-12 firewall-content-wrapper">
                    <h1 class="warning-header">
                        <span class="ico-full-warning"></span>WARNING</h1>
                    <p class="warning-content"><apex:outputText >{!sFireWallMessage}</apex:outputText>                     
                    </p>
                </div>
            </section>           
            <section class="row submit">
                <div class="col-xs-12">
                    <apex:commandbutton value="I Acknowledge" styleclass="acknowledge-warning button" action="{!acknowledge}"/>
                    <apex:commandbutton value="Cancel" styleclass="cancel-warning button" action="{!back}"/>
                </div>
            </section>
        </apex:form>
    </main>
            </apex:outputpanel>
                <!-------------------------------------------------------Study Creation Form Edit Outputpanel with 3 fields------------------------------------------------------------------------------------------------>

                    <apex:outputpanel rendered="{!IF($CurrentPage.parameters.id == NULL,true,false)}">
                        <apex:form Styleclass="create-study-form accordion">
                            <!---------------------------------------------------------Study Information Section------------------------------------------------------------------------------------>
                            <section class="row">
                                <!--<div class="col-xs-12 "> REQUIRED FIELD</div> -->
                            </section>
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Research Study Information
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Name.Label}</label><span class="required-label"> *</span>
                                                <div class="helpOrb tooltip">
                                                    <span>Enter a descriptive Title for the item (e.g. one that might be used for a journal article)</span>
                                                </div>       
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Name}" styleclass="required"></apex:inputField>
                                                                          
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Description__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Description__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Description__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Description__c}" styleClass="" styleclass="required"/>
                                            </div>
                                        </div>
                                        
                                        </fieldset>
                                </div>
                            </section>
                                        
                                        <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                            <section class="row submit">
                                <div class="col-xs-12">
                                    <apex:commandButton styleClass="button" value="Continue" action="{!save}" />
                                </div>
                            </section>
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                        </apex:form>
                    </apex:outputpanel>
                    <!-------------------------------------------------------Study Creation Form Edit Outputpanel------------------------------------------------------------------------------------------------>

                    <apex:outputpanel rendered="{!IF(AND($CurrentPage.parameters.id != NULL,$CurrentPage.parameters.isEdit=='true',bIsFirewall == FALSE),true,false)}">
                        <apex:form id="editstudy" Styleclass="create-study-form accordion">
                            <!---------------------------------------------------------Study Information Section------------------------------------------------------------------------------------>
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                            <section class="row submit">
                                <div class="col-xs-12">
                                    <apex:commandButton action="{!save}" styleclass="submit-study button" value="Save" />
                                    <apex:actionFunction name="doSubmit" rerender="error" oncomplete="return false;"/>
                                    <apex:outputLink styleClass="button" value="/apex/CreateStudy?id={!$CurrentPage.parameters.id}&isEdit=false">Cancel</apex:outputLink>
                                    <apex:outputpanel id="FeedbackButton1">
                                    </apex:outputpanel>
                                </div>
                            </section>
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                            <apex:outputPanel id="StudyInfo">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Research Study Information
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">
                                      <apex:outputPanel id="StudyInformation">  
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Study_Project_ID__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Project_ID__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Study_Project_ID__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Study_Project_ID__c}" />
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Name.Label}</label><span class="required-label"> *</span> 
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Name.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Name.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Name}" styleClass="" styleclass="required"/>
                                            </div>
                                        </div>

                                     </apex:outputPanel>  
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Description__c.Label}</label><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),true,false)}">
                                                <span class="required-label"> *</span></apex:outputPanel>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Description__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Description__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Description__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),'','')}" styleclass="required"/>
                                            </div>
                                        </div>
                                     
                                        <apex:outputPanel rendered="{!IF(OR(oStudy.Project_Status__c == 'Approved',oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Cancelled',oStudy.Project_Status__c == 'On Hold',oStudy.Project_Status__c == 'Closed'),true,false)}">
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Project_Status__c.Label}</label><apex:outputPanel rendered="{!If(oStudy.DataLoaded_TF__c==false,true,false)}">
                                                <span class=""> </span></apex:outputPanel>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Project_Status__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Project_Status__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Project_Status__c}" styleClass="{!If(oStudy.DataLoaded_TF__c==false,'ddlStudyStatus','ddlStudyStatus')}">
                                                    <apex:actionSupport event="onchange" rerender="PublicationsAndDeliverables,ExecutionApproach,studyconductingcountries,StudyObjective,StudyOrganization,StudyInformation2,moleculessection,FeedbackButton1,FeedbackButton2" />
                                                </apex:inputfield>
                                            </div>
                                        </div>
                                        </apex:outputPanel>
                                        
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Notes_Log__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Notes_Log__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Notes_Log__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Notes_Log__c}" />
                                            </div>
                                        </div>
                                       <apex:outputPanel id="StudyInformation2">
                                        
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Classification__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Classification__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Classification__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div> 
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Classification__c}" styleclass="required">
                                                <apex:actionSupport event="onchange" rerender="DesignAndAnalysis_input,StudyDetail,PublicationsAndDeliverables_input,CountryBenefit_input,CountryConducting_input,ReqSection,MoleculeSection,StudyPlanSection,StudyExecutionSection,LandscapeSection,TeamMemberSection,StudyInfo,FeedbackButton1,FeedbackButton2" oncomplete="df_drdw.createStudy.nonLookupMoleculeHandler(); df_drdw.createStudy.accordion();" />
                                                </apex:inputField>
                                            </div>
                                        </div> 

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Study_Description__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Description__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Study_Description__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Study_Description__c}" styleclass="required">    
                                                </apex:inputField>
                                            </div>
                                        </div>
                                        
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Secondary_Study_Type__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Secondary_Study_Type__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Secondary_Study_Type__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Secondary_Study_Type__c}" styleclass="required"/>
                                            </div>
                                        </div>
                                        </apex:outputPanel>
                                        
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>Does the Research Study involve an internal compound?</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Is_Molecule__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Is_Molecule__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Is_Molecule__c}" styleclass="required">
                                                <apex:actionsupport event="onchange" rerender="DesignAndAnalysis_input,StudyInfo,StudyDetail,PublicationsAndDeliverables_input,CountryBenefit_input,CountryConducting_input,ReqSection,MoleculeSection,StudyPlanSection,StudyExecutionSection,LandscapeSection,TeamMemberSection,FeedbackButton1,FeedbackButton2" oncomplete="df_drdw.createStudy.nonLookupMoleculeHandler(); df_drdw.createStudy.accordion();"/>
                                                </apex:inputField>
                                            </div>
                                        </div>
                                        
                                        </fieldset>                                                                               
                                </div>
                            </section>
                             </apex:outputPanel>
                              <apex:outputPanel id="StudyDetail">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Research Study Detail
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">
                                        <apex:outputPanel >
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Therapeutic_Area_Primary__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Therapeutic_Area_Primary__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Therapeutic_Area_Primary__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Therapeutic_Area_Primary__c}" styleclass="required"/>
                                            </div>
                                        </div>
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Business_Unit_Primary__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Business_Unit_Primary__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Business_Unit_Primary__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Business_Unit_Primary__c}"/>
                                            </div>
                                        </div>
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Study_Region__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Region__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Study_Region__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Study_Region__c}" styleclass="required"/>
                                            </div>
                                        </div>
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Target_Audience__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Target_Audience__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Target_Audience__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Target_Audience__c}" styleclass="required"/>
                                            </div>
                                        </div>
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Primary_Purpose__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Primary_Purpose__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Primary_Purpose__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Primary_Purpose__c}" styleclass="required"/>
                                            </div>
                                        </div>
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.What_is_the_objective_of_this_study__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.What_is_the_objective_of_this_study__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.What_is_the_objective_of_this_study__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.What_is_the_objective_of_this_study__c}" />
                                            </div>
                                        </div>
                                        <div class="row">                                       
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Study_Device__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Device__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Study_Device__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Study_Device__c}" />
                                            </div>
                                        </div>
                                        </apex:outputPanel> 

                                    </fieldset>                                                                               
                                </div>
                            </section>
                            </apex:outputPanel>
                          
                            <!-- -------------------------------------------------------Molecules Section--------------------------------------------------------------------------------- -->                      
                            <apex:outputPanel id="MoleculeSection">
                            <apex:outputPanel rendered="{!If(oStudy.Is_Molecule__c == 'Yes',True,false)}">
                            <section class="row">
                            <apex:outputPanel rendered="{!IF($CurrentPage.parameters.Id==NULL,false,true)}">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Molecules
                                            <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Select the related Molecules. Use  after the first few letters to search across the multiple names used for a Molecule.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="MoleculesError"><apex:outputpanel rendered="{!isMoleculeError}"><div class="sfdc-errorMessage font-s">
                                        <apex:pagemessages escape="false"></apex:pagemessages>
                                    </div></apex:outputpanel></apex:outputpanel>
                                        <div class="accordion-content">
                                            <!-- Add new team member section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add Molecule
                                                <apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Is_Molecule__c=='LY Yes',oStudy.Study_Description__c != 'Modeling',oStudy.Study_Description__c != 'Systematic Literature Review'),true,false)}">
                                                    <span class=""> </span>
                                                </apex:outputPanel>
                                                
                                                </legend>
                                                
                                                <apex:inputField value="{!oMolecule.Molecule__c}" required="false" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Is_Molecule__c=='LY Yes',lStudyMolecules.size==0,oStudy.Study_Description__c != 'Modeling',oStudy.Study_Description__c != 'Systematic Literature Review'),'looked-up-molecule','')}" />                 
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddMolecule}" rerender="theMolTable,noMolecules,MoleculesError" />
                                                
                                            </fieldset>
                                            <!-- Add new team member section ends -->
                                            
                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="theMolTable">
                                            <apex:outputpanel rendered="{!lStudyMolecules.size>0}">
                                            <apex:repeat value="{!lStudyMolecules}" var="oMember">
                                            <div class="custom-data-row">
                                                
                                                <span class="content">{!oMember.Molecule__r.name}</span>
                                                <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveMolecule}" rerender="theMolTable,noMolecules,MoleculesError">
                                                    <apex:param name="teamMember" value="{!oMember.Molecule__c}" assignTo="{!teamMember}" />
                                                </apex:commandlink>
                                                
                                                
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noMolecules">
                                            <apex:outputpanel rendered="{!lStudyMolecules.size==0}">
                                            <span class="content"><strong>No Molecules</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>                                            
                                        </div>
                                    </fieldset>
                                    </apex:actionregion>
                                </div>
                                </apex:outputpanel>
                            </section>
                            </apex:outputPanel>
                            </apex:outputPanel>
                            <!-- -------------------------------------------------------Study Organization and Plan Section------------------------------------------------------------------------------- -->
                            <apex:outputPanel id="StudyPlanSection">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Research Study Plan
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">
                                        <apex:outputPanel id="StudyOrganization">
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>Lead/Owner</label>
                                                <span class="required-label"> *</span><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),true,false)}">
                                                <span class=""> </span></apex:outputPanel> 
                                            </div>
                                            <div class="col-xs-6 field-wrapper hide-user-select">
                                                <apex:inputField value="{!oStudy.OwnerId}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),'select-based-lookup','')}"  styleclass="required"/>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Project_Manager__c.Label}</label><span class="required-label"> *</span>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Project_Manager__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Project_Manager__c.inlinehelptext}</span>
                                                </div><span class=""> </span>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper hide-user-select ">
                                                <apex:inputField value="{!oStudy.Project_Manager__c}" styleClass="select-based-lookup required"/>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Anticipated_Start_Date__c.Label}</label><span class="required-label"> *</span><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),true,false)}">
                                                <span class=""> </span></apex:outputPanel> 
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Anticipated_Start_Date__c.inlinehelptext != NULL,true,false)}">
                                                    <div class="helpOrb tooltip">
                                                        <span>{!$ObjectType.Project__c.Fields.Anticipated_Start_Date__c.inlinehelptext}</span>
                                                    </div>          
                                                </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Anticipated_Start_Date__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),'','')}" styleclass="required"/>
                                        </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Anticipated_End_Date__c.Label}</label><span class="required-label"> *</span><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),true,false)}">
                                                <span class=""> </span></apex:outputPanel> 
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Anticipated_End_Date__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Anticipated_End_Date__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Anticipated_End_Date__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),'','')}" styleclass="required"/>
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Actual_Start_Date__c.Label}</label><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),true,false)}">
                                                <span class=""> </span></apex:outputPanel>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Actual_Start_Date__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Actual_Start_Date__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Actual_Start_Date__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),'','')}" />
                                            </div>
                                        </div> 
                                        
                                        
                                        </apex:outputPanel>
                                    </fieldset>
                                </div>
                            </section>
                            </apex:outputPanel>
        
                            
 <!-- -------------------------------------------------------Execution Approach Section------------------------------------------------------------------------------- -->
                            <apex:outputPanel id="StudyExecutionSection">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Execution Approach
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">
                                        <apex:outputPanel id="ExecutionApproach">
                                        <apex:actionregion >
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Execution_Resource__c.Label}</label><span class="required-label"> *</span><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Approved',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),true,false)}">
                                                <span class=""> </span></apex:outputPanel>
                                                 <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Execution_Resource__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Execution_Resource__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Execution_Resource__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Approved',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),'','')}" styleclass="required">
                                                <apex:actionsupport event="onchange" rerender="Partnership,TPO" />
                                                </apex:inputfield>
                                            </div>
                                        </div>
                                        
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Conducted_with_an_Partner__c.Label}</label><span class="required-label"> *</span><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Approved',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),true,false)}">
                                                <span class=""> </span></apex:outputPanel>
                                                 <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Conducted_with_an_Partner__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Conducted_with_an_Partner__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Conducted_with_an_Partner__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Approved',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),'','')}" styleclass="required">
                                                <apex:actionsupport event="onchange" rerender="Partnership,TPO"/>
                                                </apex:inputfield>
                                            </div>
                                        </div>
                                        
                                        <apex:outputpanel id="Partnership">
                                        <apex:outputpanel rendered="{!IF(oStudy.Conducted_with_an_Partner__c=='Yes',true,false)}">
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.DRDW_Partner__c.Label}</label><span class="required-label"> *</span><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Approved',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),true,false)}">
                                                <span class=""> </span></apex:outputPanel>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.DRDW_Partner__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.DRDW_Partner__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.DRDW_Partner__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Approved',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),'','')}" styleclass="required">
                                                
                                                </apex:inputfield>
                                            </div>
                                        </div>   
                                        </apex:outputpanel>
                                        </apex:outputpanel>
                                        
                                        </apex:actionregion>
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Execution_Function__c.Label}</label><apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),true,false)}">
                                                <span class=""> </span></apex:outputPanel>
                                                 
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Execution_Function__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Execution_Function__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:inputField value="{!oStudy.Execution_Function__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Project_Status__c != 'Cancelled',oStudy.Project_Status__c != 'On Hold'),'','')}">
                                                </apex:inputField>
                                            </div>
                                        </div>
                                        
                                        </apex:outputPanel>
                                    </fieldset>
                                </div>
                            </section>
                            </apex:outputPanel>


<!----------------------------------------------------------Information Landscape Section--------------------------------------------------------------------------------- -->                      
                            <apex:outputPanel id="LandscapeSection">
                            <section class="row">
                            <apex:outputPanel rendered="{!IF($CurrentPage.parameters.Id==NULL,false,true)}">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Related Information Source(s) 
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Use this field to associate a related Information Source(s) to the Research Study/Research Topic.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="RelLandscapeError">
                                    <apex:outputpanel rendered="{!isLandscapeError}"> 
                                    <div class="sfdc-errorMessage font-s">
                                        <apex:pagemessages escape="false"></apex:pagemessages>
                                    </div>
                                    </apex:outputpanel>
                                    </apex:outputpanel>
                                        <div class="accordion-content">
                                            <!-- Add new Related Information Landscape section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add Related Information Source(s)</legend>
                                                <apex:inputField value="{!oRelatedLandscape.Information_Landscape__c}" required="false" />                    
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddLandscape}" rerender="relLandscapeTable,noRelLandscape,RelLandscapeError,FeedbackButton1,FeedbackButton2" />
                                            </fieldset>
                                            <!-- Add new Related Information Landscape section ends -->

                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="relLandscapeTable">
                                            <apex:outputpanel rendered="{!lLandscape.size>0}">
                                            <apex:repeat value="{!lLandscape}" var="oMember">
                                            <div class="custom-data-row">
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.Information_Landscape__r.name}</apex:outputLink></span>
                                                <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveLandscape}" rerender="relLandscapeTable,noRelLandscape,RelLandscapeError,FeedbackButton1,FeedbackButton2">
                                                    <apex:param name="teamMember" value="{!oMember.Information_Landscape__c}" assignTo="{!teammember}" />
                                                </apex:commandlink>
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noRelLandscape">
                                            <apex:outputpanel rendered="{!lLandscape.size==0}">
                                            <span class="content"><strong>No Related Information Source(s)</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                                  
                                        </div>
                                    </fieldset>
                                    </apex:actionregion>
                                </div>
                            </apex:outputPanel>
                            </section>
                            </apex:outputPanel>

                            <!-- -------------------------------------------------------Publications & Deliverables Section------------------------------------------------------------------------------- -->
                           <apex:outputPanel id="PublicationsAndDeliverables_input">
                           <apex:outputPanel rendered="{!If(OR(oStudy.Classification__c == 'Epidemiological Research',oStudy.Classification__c == 'Clinical Research',oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),true,false)}">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Publications and Deliverables
                                    <span class="helpOrb tooltip">
                                        <span>Indicate any deliverables that will be associated with the Research Study/Research Topic by selecting the appropriate item(s).  In order to close a Study, if an item is checked,  a link to the source document will be required.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">
                                    <apex:outputPanel id="PublicationsAndDeliverables">
                                    <apex:actionRegion >
                                    <apex:outputpanel rendered="{!IF(OR(oStudy.Project_Status__c=='Active',oStudy.Project_Status__c=='Completed',oStudy.Project_Status__c=='Closed'),true,false)}">
                                    <div class="pnd-error-banner">At least one item must be chosen in this section once the Study has been started.</div>
                                    </apex:outputpanel>
                                        <table class="publications-deliverables-table table table-bordered table-hover table-striped">
                                            <thead>
                                                <tr>
                                                    <th class="col-xs-1">Select</th>
                                                    <th class="col-xs-3">Deliverable Name</th>
                                                    <th class="col-xs-3">Description<span class="helpOrb tooltip">
                                                    <span>Use the enter key to add descriptions on a new line.</span>
                                                    </span></th>
                                                    <th class="col-xs-5">URL(s) <span class="helpOrb tooltip">
                                                        <span>Please add comma separated URLs if you are adding more than one.</span>
                                                    </span>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr style="display:{!IF( oStudy.Classification__c == 'Basic Research' , 'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Final_Protocol_checkbox__c}">
                                                                <apex:actionSupport event="onchange" rerender="FinalProtocolURL,FinalProtocolURL2,PublicationsAndDeliverables" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Final_Protocol_checkbox__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Final_Protocol_checkbox__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Final_Protocol_checkbox__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="FinalProtocolURL">
                                                        <apex:outputPanel rendered="{!oStudy.Final_Protocol_checkbox__c}">
                                                        <apex:inputField value="{!oStudy.Final_Protocol_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="FinalProtocolURL2">
                                                        <apex:outputPanel rendered="{!oStudy.Final_Protocol_checkbox__c}">
                                                        <apex:inputField value="{!oStudy.Final_Protocol__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Final_Protocol_checkbox__c==true,oStudy.Project_Status__c == 'Completed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF( oStudy.Final_Protocol_checkbox__c==FALSE , 'None', '')}">
                                                    <td> 
                                                    <label class="detail-title">Study Protocol Details</label>
                                                    <br/>
                                                    <span class="ico-full-icon-arrow-right2"></span> 
                                                    </td>
                                                    <td colspan="3">
                                                        <div class="row">
                                                        <div class="col-xs-3">
                                                            <span>{!$ObjectType.Project__c.Fields.Protocol_Approval_Required__c.Label}</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Protocol_Approval_Required__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Protocol_Approval_Required__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>
                                                            <apex:inputField value="{!oStudy.Protocol_Approval_Required__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Final_Protocol_checkbox__c==true,OR(oStudy.Project_Status__c == 'Closed',oStudy.Project_Status__c == 'Completed')),'required col-xs-12','col-xs-12')}">
                                                                <apex:actionSupport event="onchange" rerender="ProtocolDate" />
                                                            </apex:inputField>
                                                        </div>
                                                        <div class="col-xs-3 date-holder">
                                                            <span>{!$ObjectType.Project__c.Fields.Protocol_Approval_Date__c.Label}</span>   
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Protocol_Approval_Date__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Protocol_Approval_Date__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>                                                             
                                                            <apex:outputpanel id="ProtocolDate">
                                                            <apex:inputField value="{!oStudy.Protocol_Approval_Date__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Final_Protocol_checkbox__c==true,oStudy.Protocol_Approval_Required__c == 'Yes'),'required col-xs-12','col-xs-12')}"/></apex:outputPanel>
                                                        </div>                                            
                                                        <div class="col-xs-6">
                                                            <span>{!$ObjectType.Project__c.Fields.Protocol_Title__c.Label}</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Protocol_Title__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Protocol_Title__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>
                                                            <apex:inputField value="{!oStudy.Protocol_Title__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Final_Protocol_checkbox__c==true,OR(oStudy.Project_Status__c == 'Closed',oStudy.Project_Status__c == 'Completed')),'required col-xs-12','col-xs-12')}"/>
                                                        </div>
                                                        </div>
                                                    </td>  
                                                </tr>
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Model__c}">
                                                                <apex:actionSupport event="onchange" rerender="ModelURL,ModelURL2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Model__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Model__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Model__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="ModelURL">
                                                        <apex:outputPanel rendered="{!oStudy.Model__c}">
                                                        <apex:inputField value="{!oStudy.Model_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="ModelURL2">
                                                        <apex:outputPanel rendered="{!oStudy.Model__c}">
                                                        <apex:inputField value="{!oStudy.Model_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Model__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR(oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'), 'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Statistical_Analysis_Plan__c}">
                                                                <apex:actionSupport event="onchange" rerender="StatisticalAnalysisURL,StatisticalAnalysisURL2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Statistical_Analysis_Plan__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Statistical_Analysis_Plan__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Statistical_Analysis_Plan__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="StatisticalAnalysisURL">
                                                        <apex:outputPanel rendered="{!oStudy.Statistical_Analysis_Plan__c}">
                                                        <apex:inputField value="{!oStudy.Statistical_Analysis_Plan_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="StatisticalAnalysisURL2">
                                                        <apex:outputPanel rendered="{!oStudy.Statistical_Analysis_Plan__c}">
                                                        <apex:inputField value="{!oStudy.Statistical_Analysis_Plan_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Statistical_Analysis_Plan__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Data_Collection_Form__c}">
                                                                <apex:actionSupport event="onchange" rerender="DataAnalysisURL,DataAnalysisURL2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Data_Collection_Form__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Data_Collection_Form__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Data_Collection_Form__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="DataAnalysisURL">
                                                        <apex:outputPanel rendered="{!oStudy.Data_Collection_Form__c}">
                                                        <apex:inputField value="{!oStudy.Data_Collection_Form_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="DataAnalysisURL2">
                                                        <apex:outputPanel rendered="{!oStudy.Data_Collection_Form__c}">
                                                        <apex:inputField value="{!oStudy.Data_Collection_Form_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Data_Collection_Form__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF( oStudy.Classification__c == 'Pre-Clinical Research' , 'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Scientific_Disclosures__c}">
                                                                <apex:actionSupport event="onchange" rerender="StDURL,StDURL2,PublicationsAndDeliverables" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Scientific_Disclosures__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Scientific_Disclosures__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Scientific_Disclosures__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="StDURL">
                                                        <apex:outputPanel rendered="{!oStudy.Scientific_Disclosures__c}">
                                                        <apex:inputField value="{!oStudy.Scientific_Disclosures_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="StDURL2">
                                                        <apex:outputPanel rendered="{!oStudy.Scientific_Disclosures__c}">
                                                        <apex:inputField value="{!oStudy.Scientific_Disclosures_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Scientific_Disclosures__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>

                                                <tr style="display:{!IF(oStudy.Scientific_Disclosures__c==FALSE , 'None', '')}">
                                                    <td></td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Datavision_Number__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Datavision_Number__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Datavision_Number__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:inputField value="{!oStudy.Datavision_Number__c}" styleClass="col-xs-12"/></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Study_Report__c}">
                                                                <apex:actionSupport event="onchange" rerender="SRURL,SRURL2,PublicationsAndDeliverables" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Study_Report__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Report__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Study_Report__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="SRURL">
                                                        <apex:outputPanel rendered="{!oStudy.Study_Report__c}">
                                                        <apex:inputField value="{!oStudy.Study_Project_Report_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="SRURL2">
                                                        <apex:outputPanel rendered="{!oStudy.Study_Report__c}">
                                                        <apex:inputField value="{!oStudy.Study_Report_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Study_Report__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF( oStudy.Study_Report__c==FALSE , 'None', '')}">
                                                    <td> 
                                                    <label class="detail-title">Study Report Details</label>
                                                    <br/>
                                                    <span class="ico-full-icon-arrow-right2"></span> 
                                                    </td>
                                                    <td colspan="3">
                                                    <div class="row">
                                                        <div class="col-xs-3">
                                                            <span>{!$ObjectType.Project__c.Fields.Study_Report_Approval_Required__c.Label}</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Report_Approval_Required__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Study_Report_Approval_Required__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>
                                                            <apex:inputField value="{!oStudy.Study_Report_Approval_Required__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Study_Report__c==true,OR(oStudy.Project_Status__c == 'Closed',oStudy.Project_Status__c == 'Completed')),'required col-xs-12','col-xs-12')}">
                                                                <apex:actionSupport event="onchange" rerender="StudyApprovalDate"/>
                                                            </apex:inputField>
                                                        </div>
                                                        <div class="col-xs-3 date-holder">
                                                            <span>{!$ObjectType.Project__c.Fields.Study_Report_Approval_Date__c.Label}</span>   
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Report_Approval_Date__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Study_Report_Approval_Date__c.inlinehelptext}</span>
                                                                </div> 
                                                            </apex:outputpanel>
                                                            <apex:outputPanel id="StudyApprovalDate">
                                                            <apex:inputField value="{!oStudy.Study_Report_Approval_Date__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Study_Report__c==true,oStudy.Study_Report_Approval_Required__c == 'Yes'),'required col-xs-12','col-xs-12')}"/></apex:outputPanel>
                                                        </div>
                                                        </div>
                                                    </td>  
                                                </tr>
                                               
                                                <tr style="display:{!IF(OR(oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'), 'None', '')}">
                                                    <td>
                                                    <apex:inputField styleclass="{!IF(oStudy.Primary_Purpose__c=='FDAMA 114','sufficiently-required-checkbox related-to-purpose aligned-with-purpose','sufficiently-required-checkbox')}" value="{!oStudy.FDAMA_piece__c}">
                                                                <apex:actionSupport event="onchange" rerender="FDAMA,FDAMA2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.FDAMA_piece__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.FDAMA_piece__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.FDAMA_piece__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="FDAMA">
                                                        <apex:outputPanel rendered="{!oStudy.FDAMA_piece__c}">
                                                        <apex:inputField value="{!oStudy.FDAMA_piece_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="FDAMA2">
                                                        <apex:outputPanel rendered="{!oStudy.FDAMA_piece__c}">
                                                        <apex:inputField value="{!oStudy.FDAMA_piece_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.FDAMA_piece__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR(oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'), 'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Non_Serious_Adverse_Events_List__c}">
                                                                <apex:actionSupport event="onchange" rerender="NSAEL,NSAEL2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Non_Serious_Adverse_Events_List__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Non_Serious_Adverse_Events_List__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Non_Serious_Adverse_Events_List__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="NSAEL">
                                                        <apex:outputPanel rendered="{!oStudy.Non_Serious_Adverse_Events_List__c}">
                                                        <apex:inputField value="{!oStudy.Non_Serious_Adverse_Events_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="NSAEL2">
                                                        <apex:outputPanel rendered="{!oStudy.Non_Serious_Adverse_Events_List__c}">
                                                        <apex:inputField value="{!oStudy.Non_Serious_Adverse_Events_List_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Non_Serious_Adverse_Events_List__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR(oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'), 'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.AMCP_Formulary_Submission__c}">
                                                                <apex:actionSupport event="onchange" rerender="AMCP,AMCP2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.AMCP_Formulary_Submission__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.AMCP_Formulary_Submission__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.AMCP_Formulary_Submission__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="AMCP">
                                                        <apex:outputPanel rendered="{!oStudy.AMCP_Formulary_Submission__c}">
                                                        <apex:inputField value="{!oStudy.Payer_Dossier_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="AMCP2">
                                                        <apex:outputPanel rendered="{!oStudy.AMCP_Formulary_Submission__c}">
                                                        <apex:inputField value="{!oStudy.AMCP_Formulary_Submission_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.AMCP_Formulary_Submission__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR(oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'), 'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Medical_Value_Summary__c}">
                                                                <apex:actionSupport event="onchange" rerender="Med,Med2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Medical_Value_Summary__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Medical_Value_Summary__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Medical_Value_Summary__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="Med">
                                                        <apex:outputPanel rendered="{!oStudy.Medical_Value_Summary__c}">
                                                        <apex:inputField value="{!oStudy.Medical_Value_Summary_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="Med2">
                                                        <apex:outputPanel rendered="{!oStudy.Medical_Value_Summary__c}">
                                                        <apex:inputField value="{!oStudy.Medical_Value_Summary_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Medical_Value_Summary__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR(oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'), 'None', '')}">
                                                    <td>
                                                    <apex:inputField styleclass="{!IF(oStudy.Primary_Purpose__c=='Regulatory Commitment','sufficiently-required-checkbox related-to-purpose aligned-with-purpose required','sufficiently-required-checkbox')}" value="{!oStudy.Response_to_Regulatory__c}">
                                                                <apex:actionSupport event="onchange" rerender="RRURL,RRURL2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Response_to_Regulatory__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Response_to_Regulatory__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Response_to_Regulatory__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="RRURL">
                                                        <apex:outputPanel rendered="{!oStudy.Response_to_Regulatory__c}">
                                                        <apex:inputField value="{!oStudy.Response_to_Regulatory_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="RRURL2">
                                                        <apex:outputPanel rendered="{!oStudy.Response_to_Regulatory__c}">
                                                        <apex:inputField value="{!oStudy.Response_to_Regulatory_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Response_to_Regulatory__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR(oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'), 'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Response_to_Unsolicited_Non_Regulatory__c}">
                                                                <apex:actionSupport event="onchange" rerender="RUNR,RUNR2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Response_to_Unsolicited_Non_Regulatory__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Response_to_Unsolicited_Non_Regulatory__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Response_to_Unsolicited_Non_Regulatory__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="RUNR">
                                                        <apex:outputPanel rendered="{!oStudy.Response_to_Unsolicited_Non_Regulatory__c}">
                                                        <apex:inputField value="{!oStudy.Response_to_Non_Regulatory_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="RUNR2">
                                                        <apex:outputPanel rendered="{!oStudy.Response_to_Unsolicited_Non_Regulatory__c}">
                                                        <apex:inputField value="{!oStudy.Response_to_Non_Regulatory_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Response_to_Unsolicited_Non_Regulatory__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                
                                                <tr style="display:{!IF( oStudy.Classification__c == 'Basic Research' , 'None', '')}">
                                                    <td><apex:inputField styleclass="sufficiently-required-checkbox" value="{!oStudy.Other__c}">
                                                                <apex:actionSupport event="onchange" rerender="OtherURL,OtherURL2" />
                                                        </apex:inputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Other__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Other__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Other__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputPanel id="OtherURL">
                                                        <apex:outputPanel rendered="{!oStudy.Other__c}">
                                                        <apex:inputField value="{!oStudy.Other_Description__c}" styleClass="col-xs-12"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                    <td><apex:outputPanel id="OtherURL2">
                                                        <apex:outputPanel rendered="{!oStudy.Other__c}">
                                                        <apex:inputField value="{!oStudy.Other_URL__c}" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,oStudy.Other__c==true,oStudy.Project_Status__c == 'Closed'),'col-xs-12','col-xs-12')}"/>
                                                        </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        </apex:actionRegion>
                                        </apex:outputPanel>
                                    </fieldset>
                                </div>
                            </section>
                            </apex:outputPanel>
                            </apex:outputPanel>
                            
<!-- -------------------------------------------------------Study Team Members Section--------------------------------------------------------------------------------- -->                      
                            <apex:outputPanel id="TeamMemberSection">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Team Members
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Whoever needs to have Edit access to the Study record or associated Checklist should be added to this section.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span>
                                    </h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="StudyTeamErr">
                                        <apex:outputpanel rendered="{!isStudyTeamError}">
                                            <div class="sfdc-errorMessage font-s">
                                                <apex:pagemessages escape="false"></apex:pagemessages>
                                            </div>
                                        </apex:outputpanel>
                                    </apex:outputpanel>
                                         <div class="accordion-content">
                                            <!-- Add new team member section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add team member</legend>
                                                <apex:inputField value="{!oProjectShare.UserOrGroupId}" required="false" />                    
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddStudyTeamMember}" rerender="theTable,StudyTeamErr,noMembers" />
                                                
                                            </fieldset>
                                            <!-- Add new team member section ends -->
                                            
                                             <!-- Iteration unit starts -->
                                            <apex:outputpanel id="theTable">
                                            <apex:outputpanel rendered="{!lStudyTeamMembers.size>0}">
                                            <apex:repeat value="{!lStudyTeamMembers}" var="oMember">
                                            <div class="custom-data-row">
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.Name}</apex:outputLink></span>
                                                <apex:commandlink value="remove" styleclass="remove-custom-data-row" action="{!RemoveStudyTeamMember}" rerender="theTable,noMembers">
                                                    <apex:param name="teamMember" value="{!oMember.id}" assignTo="{!teamMember}" />
                                                </apex:commandlink>
                                           </div>
                                           
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noMembers">
                                            <apex:outputpanel rendered="{!lStudyTeamMembers.size==0}">
                                            <span class="content"><strong>No Team Members</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                        </div>
                                        
                                    </fieldset>
                                    </apex:actionregion>
                                </div>
                            </section>
                            </apex:outputPanel>
<!-- -------------------------------------------------------Study Benefiting Countries Section--------------------------------------------------------------------------------- -->                      
                           <apex:outputPanel id="CountryBenefit_input">
                           <apex:outputPanel rendered="{!If(oStudy.Classification__c == 'Epidemiological Research',True,False)}">
                            <section class="row">
                            <apex:outputPanel rendered="{!IF($CurrentPage.parameters.Id==NULL,false,true)}">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Countries benefiting from Study
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Choose the countries that will primarily benefit (i.e. if a country requests a Research Study/Research Topic, then they should be chosen as the benefactor). If numerous countries benefit that make it impractical to enter, leave field blank.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="BftError">
                                    <apex:outputpanel rendered="{!isBenefitCountryError}">
                                    <div class="sfdc-errorMessage font-s">
                                        <apex:pagemessages escape="false"></apex:pagemessages>
                                    </div>
                                    </apex:outputpanel>
                                    </apex:outputpanel>
                                        <div class="accordion-content">
                                            <!-- Add new Benefiting Country section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add Benefiting Country</legend>
                                                <apex:inputField value="{!oBenifitingCountry.Country__c}" required="false" />                    
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddBenifitingCountry}" rerender="theBnftCntryTable,noBnftCountries,BftError,studyconductingcountries" />
                                                
                                            </fieldset>
                                            <!-- Add new Benefiting Country section ends -->

                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="theBnftCntryTable">
                                            <apex:outputpanel rendered="{!lBenifitingCountries.size>0}">
                                            <apex:repeat value="{!lBenifitingCountries}" var="oMember">
                                            <div class="custom-data-row">
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.Country__r.name}</apex:outputLink></span>
                                                <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveBenifitingCountry}" rerender="theBnftCntryTable,noBnftCountries,BftError,studyconductingcountries">
                                                    <apex:param name="teamMember" value="{!oMember.Country__c}" assignTo="{!teammember}" />
                                                </apex:commandlink>
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noBnftCountries">
                                            <apex:outputpanel rendered="{!lBenifitingCountries.size==0}">
                                            <span class="content"><strong>No Benefiting Countries</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>     
                                        </div>
                                    </fieldset>
                                    </apex:actionregion>
                                </div>
                            </apex:outputPanel>
                            </section>
                            </apex:outputPanel>
                            </apex:outputPanel>
                          
<!-- -------------------------------------------------------Study Conducting Countries Section--------------------------------------------------------------------------------- -->                      
                           <apex:outputPanel id="CountryConducting_input">
                           <apex:outputPanel rendered="{!If(OR(oStudy.Classification__c == 'Epidemiological Research',oStudy.Classification__c == 'Clinical Research'),true,false)}">
                            <section class="row">
                            <apex:outputPanel rendered="{!IF($CurrentPage.parameters.Id==NULL,false,true)}">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Countries the Study is being conducted in
                                            <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Add the Country(ies) where the Study is being conducted. This is NOT where the TPO is located necessarily.  For example, if a survey is being conducted on patients in the UK, then the UK should be added as a country.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                     <apex:outputPanel id="studyconductingcountries">
                                    <apex:outputpanel id="CdtngCntryError">
                                        <apex:outputpanel rendered="{!isStudyCountryError}">
                                        <div class="sfdc-errorMessage font-s">
                                            <apex:pagemessages escape="false"></apex:pagemessages>
                                        </div>  
                                        </apex:outputpanel>
                                    </apex:outputpanel>
                                        
                                        <div class="accordion-content">
                                            <!-- Add new Study Conducting Country section starts -->
                                            <fieldset class="add-new-item hidden-xs hidden-x">
                                                <legend>Add Study Conducting Country
                                                <apex:outputPanel rendered="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed')),true,false)}">
                                                    <span class=""> </span>
                                                </apex:outputPanel></legend>
                                                
                                                <apex:inputField value="{!oStudyConductingCountry.Country__c}" required="false" styleClass="{!If(AND(oStudy.DataLoaded_TF__c==false,OR(oStudy.Project_Status__c == 'Active',oStudy.Project_Status__c == 'Completed',oStudy.Project_Status__c == 'Closed'),lStudyConductingCountries.size==0),'','')}"/>                    
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddStudyConductingCountry}" rerender="theStdCntryTable,noStudyCountries,CdtngCntryError,studyconductingcountries" />
                                                <apex:commandButton styleClass="btn button" value="Copy from Benefiting Countries" action="{!CopyCountries}" rendered="{!IF(AND(oStudy.Project_Status__c == 'Active',lBenifitingCountries.size>0),true,false)}" rerender="theStdCntryTable,noStudyCountries,CdtngCntryError,studyconductingcountries" /> 
                                                </fieldset>
                                            <!-- Add new Study Conducting Country section ends -->
                                            
                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="theStdCntryTable">
                                            <apex:outputpanel rendered="{!lStudyConductingCountries.size>0}">
                                            <apex:repeat value="{!lStudyConductingCountries}" var="oMember">
                                            <div class="custom-data-row">
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.Country__r.name}</apex:outputLink></span>
                                                <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveStudyConductingCountry}" rerender="theStdCntryTable,noStudyCountries,CdtngCntryError,studyconductingcountries">
                                                    <apex:param name="teamMember" value="{!oMember.Country__c}" assignTo="{!teammember}" />
                                                </apex:commandlink>
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noStudyCountries">
                                            <apex:outputpanel rendered="{!lStudyConductingCountries.size==0}">
                                            <span class="content"><strong>No Study Conducting Countries</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>                                            
                            
                                        </div>
                                        </apex:outputPanel>
                                    </fieldset>
                                    </apex:actionregion>
                                    
                                </div>
                            </apex:outputPanel>
                            </section>
                            </apex:outputPanel>
                            </apex:outputPanel>

     <!-- --------------------------------------------------------------------Request Section------------------------------------------------------------------------------------ -->
                            <apex:outputPanel id="ReqSection">
                            <section class="row">

                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Requests
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Use this section to make any associated Requests.  This field does not work in "Edit" mode.  Save and then return to this section to make Requests.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span>
                                    </h2>
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="RequestSection"></apex:outputpanel>
                                        <div class="accordion-content">

                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="RequestTable">
                                            <apex:outputpanel rendered="{!lRequests.size > 0}">
                                            <apex:repeat value="{!lRequests}" var="oMember">
                                            <div class="custom-data-row">
                                                
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.RecordType.Name}: {!oMember.name} ({!oMember.Request_Status__c})</apex:outputLink></span>
                            
                                                
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="NoRequests">
                                            <apex:outputpanel rendered="{!lRequests.size==0}">
                                            <span class="content"><strong>No Requests</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>    
                                        </div>
                                        
                                    </fieldset>
                                </div>
                            </section> 
                            </apex:outputPanel>                         
                            
  
                
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                            <section class="row submit">
                                <div class="col-xs-12">
                                    <apex:commandButton action="{!save}" styleclass="submit-study button" value="Save" />
                                    <apex:actionFunction name="doSubmit" rerender="error" oncomplete="return false;"/>
                                    <apex:outputLink styleClass="button" value="/apex/CreateStudy?id={!$CurrentPage.parameters.id}&isEdit=false">Cancel</apex:outputLink>
                                    <apex:outputpanel id="FeedbackButton2">
                                   
                                    </apex:outputpanel>
                                </div>
                            </section>
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                        </apex:form>
                    </apex:outputpanel>
                    <!-------------------------------------------------------End of Study Creation Form Edit Output Panel------------------------------------------------------------------------------------------------>



                    <!-------------------------------------------------------Saved Study Creation Form Outputpanel------------------------------------------------------------------------------------------------>
                    <apex:outputpanel rendered="{!IF(AND($CurrentPage.parameters.id != NULL,OR($CurrentPage.parameters.isEdit=='false',$CurrentPage.parameters.isEdit==NULL),bIsFirewall == FALSE),true,false)}">
                        <span class="hidden-xs">
                        <chatter:feedWithFollowers entityId="{!$CurrentPage.parameters.id}"/> 
                        </span>
                        <apex:form Styleclass="create-study-form accordion">
                        
                        <!---------------------------------------------------------Buttons Section on the top---------------------------------------------------------------------------------------------->
                            <section class="row submit hidden-xs">
                                <div class="col-xs-12">
                                    <apex:commandButton styleClass="button" value="Edit" action="{!EditRecord}"  rendered="{!IsMember}"/>
                                    <apex:outputPanel rendered="{!IF(IsLink,true,false)}">
                                        <apex:outputLink styleClass="btn button" value="/apex/Questionnaire?id={!oStudy.Id}" rendered="{!If(oStudy.Study_Stage__c=='Questionnaire',true,false)}">Go to Questionnaire</apex:outputLink>
                                        <apex:outputLink styleClass="btn button" value="/apex/Questionnaire?id={!oStudy.Id}" rendered="{!If(oStudy.Study_Stage__c=='Questionnaire Needs Review',true,false)}">Review Questionnaire</apex:outputLink>
                                        <apex:outputLink styleClass="btn button" value="/apex/Questionnaire?id={!oStudy.Id}" rendered="{!If(OR(oStudy.Study_Stage__c==NULL,oStudy.Study_Stage__c==''),true,false)}">Initiate Questionnaire</apex:outputLink>
                                        <apex:outputLink styleClass="btn button" value="/apex/Checklist?id={!oStudy.Id}" rendered="{!If(AND(oStudy.Study_Stage__c!='Questionnaire',oStudy.Study_Stage__c!='Questionnaire Needs Review',oStudy.Study_Stage__c!=NULL),true,false)}">Go to Checklist</apex:outputLink>
                                    </apex:outputPanel>
                                  
                                </div>
                            </section>
                            
                            <!---------------------------------------------------------Study Information Section------------------------------------------------------------------------------------>
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Research Study Information
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">
                                       <div class="row">
                                            <div class="col-xs-12">
                                                  <div class="additional-links pull-right">
                                                    <a href="/{!oStudy.id}">View Additional Details</a>
                                                  </div>
                                           </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Study_Project_ID__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Project_ID__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Study_Project_ID__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Study_Project_ID__c}" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Name.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Name.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Name.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Name}" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Description__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Description__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Description__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Description__c}" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Project_Status__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Project_Status__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Project_Status__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Project_Status__c}" />
                                            </div>
                                        </div>

                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Notes_Log__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Notes_Log__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Notes_Log__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Notes_Log__c}" />
                                            </div>
                                        </div>
                                        
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Classification__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Classification__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Classification__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputField value="{!oStudy.Classification__c}" />
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Study_Description__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Description__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Study_Description__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputField value="{!oStudy.Study_Description__c}" />
                                            </div>
                                        </div>
                                
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Secondary_Study_Type__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Secondary_Study_Type__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Secondary_Study_Type__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputField value="{!oStudy.Secondary_Study_Type__c}" />
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>Does the Research Study involve an internal compound?</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Is_Molecule__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Is_Molecule__c.inlinehelptext}</span>
                                                </div>          
                                                </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Is_Molecule__c}" />
                                            </div>
                                        </div>   
                                        
                                        </fieldSet>
                                        </div>
                                        </section>
                                        <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Research Study Detail
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Therapeutic_Area_Primary__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Therapeutic_Area_Primary__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Therapeutic_Area_Primary__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputField value="{!oStudy.Therapeutic_Area_Primary__c}" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Business_Unit_Primary__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Business_Unit_Primary__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Business_Unit_Primary__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputField value="{!oStudy.Business_Unit_Primary__c}" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Study_Region__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Region__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Study_Region__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Study_Region__c}" />
                                            </div>
                                        </div>
                                                                        
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Target_Audience__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Target_Audience__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Target_Audience__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Target_Audience__c}" />
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Primary_Purpose__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Primary_Purpose__c.inlinehelptext != NULL,true,false)}">
                                                    <div class="helpOrb tooltip">
                                                        <span>{!$ObjectType.Project__c.Fields.Primary_Purpose__c.inlinehelptext}</span>
                                                    </div>          
                                                </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Primary_Purpose__c}" />
                                            </div>
                                        </div>
                                         <apex:outputPanel rendered="{!If(OR(oStudy.Classification__c == 'Research Project',oStudy.Study_Description__c == 'Modeling'),false,true)}">
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.What_is_the_objective_of_this_study__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.What_is_the_objective_of_this_study__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.What_is_the_objective_of_this_study__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.What_is_the_objective_of_this_study__c}" />
                                            </div>
                                        </div>
                                        </apex:outputPanel>
                                        
                                        
                                        <apex:outputPanel rendered="{!If(OR(oStudy.Classification__c == 'Research Project',oStudy.Study_Description__c == 'Modeling'),false,true)}">
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Study_Device__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Device__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Study_Device__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Study_Device__c}" />
                                            </div>
                                        </div>
                                        </apex:outputPanel>
                                        
                                    </fieldset>
                                </div>
                                </section>

<!-- -------------------------------------------------------Molecules Section--------------------------------------------------------------------------------- -->                      
                            <apex:outputPanel rendered="{!If(oStudy.Is_Molecule__c == 'Yes',True,false)}">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Molecules
                                            <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Select the related Molecules. You may also select if LY and Class = No but you wish to connect the study to a Molecule. Use  after the first few letters to search across the multiple names used for a Molecule.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="MolError"><apex:outputpanel rendered="{!isMoleculeError}"><div class="sfdc-errorMessage font-s">
                                    
                                        <apex:pagemessages escape="false"></apex:pagemessages>
                                    </div></apex:outputpanel></apex:outputpanel>
                                        <div class="accordion-content">
                                            <!-- Add new Molecule section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add Molecule</legend>
                                                <apex:inputField value="{!oMolecule.Molecule__c}" required="false" />                  
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddMolecule}" rerender="theMolTable,noMolecules,MolError" />
                                                
                                            </fieldset>
                                            <!-- Add new Molecule section ends -->
                                            
                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="theMolTable">
                                            <apex:outputpanel rendered="{!lStudyMolecules.size>0}">
                                            <apex:repeat value="{!lStudyMolecules}" var="oMember">
                                            <div class="custom-data-row">
                                                
                                                <span class="content">{!oMember.Molecule__r.name}</span>
                                                <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveMolecule}" rerender="theMolTable,noMolecules,MolError">
                                                    <apex:param name="teamMember" value="{!oMember.Molecule__c}" assignTo="{!teamMember}" />
                                                </apex:commandlink>
                                                
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noMolecules">
                                                <apex:outputpanel rendered="{!lStudyMolecules.size==0}">
                                                    <span class="content"><strong>No Molecules</strong></span>
                                                </apex:outputpanel>
                                            </apex:outputpanel>             
                                      </div>
                                    </fieldset>
                                    </apex:actionregion>
                                    
                                </div>
                            </section>    
                            </apex:outputpanel>                                          
                            <!-- -------------------------------------------------------Study Organization and Plan Section------------------------------------------------------------------------------- -->
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Research Study Plan
                        <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>Lead/Owner</label>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.OwnerId}" />
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Project_Manager__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Project_Manager__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Project_Manager__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Project_Manager__c}" />
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Anticipated_Start_Date__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Anticipated_Start_Date__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Anticipated_Start_Date__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                            <apex:outputfield value="{!oStudy.Anticipated_Start_Date__c}" />
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Anticipated_End_Date__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Anticipated_End_Date__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Anticipated_End_Date__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Anticipated_End_Date__c}" />
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Actual_Start_Date__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Actual_Start_Date__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Actual_Start_Date__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Actual_Start_Date__c}" />
                                            </div>
                                        </div>
                                        
                                        
                                    </fieldset>
                                </div>
                            </section>
                  
<!-- -------------------------------------------------------Execution Approach Section------------------------------------------------------------------------------- -->
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Execution Approach
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child">
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Execution_Resource__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Execution_Resource__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Execution_Resource__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Execution_Resource__c}" />
                                            </div>
                                        </div>
                                        
                                        
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Conducted_with_an_Partner__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Conducted_with_an_Partner__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Conducted_with_an_Partner__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Conducted_with_an_Partner__c}" />
                                            </div>
                                        </div>
                                        
                                        <apex:outputpanel rendered="{!IF(oStudy.Conducted_with_an_Partner__c=='Yes',true,false)}">
                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.DRDW_Partner__c.Label}</label> 
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.DRDW_Partner__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.DRDW_Partner__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputField value="{!oStudy.DRDW_Partner__c}"/>
                                            </div>
                                        </div>
                                        </apex:outputpanel>
                                        

                                        <div class="row">
                                            <div class="col-xs-6 label-wrapper">
                                                <label>{!$ObjectType.Project__c.Fields.Execution_Function__c.Label}</label>
                                                <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Execution_Function__c.inlinehelptext != NULL,true,false)}">
                                                <div class="helpOrb tooltip">
                                                    <span>{!$ObjectType.Project__c.Fields.Execution_Function__c.inlinehelptext}</span>
                                                </div>          
                                            </apex:outputpanel>
                                            </div>
                                            <div class="col-xs-6 field-wrapper">
                                                <apex:outputfield value="{!oStudy.Execution_Function__c}" />
                                            </div>
                                        </div>

                                     
                                    </fieldset>
                                </div>
                            </section>


                            
<!---------------------------------------------------------Related Information Landscapes Section-------------------------------------------------------------------------------- -->                      
                            <section class="row">
                            
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Related Information Source(s)
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Use this field to associate a related Information Source(s) to the Research Study/Research Topic.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="RelLandscapeError">
                                    <apex:outputpanel rendered="{!isLandscapeError}"> 
                                    <div class="sfdc-errorMessage font-s">
                                        <apex:pagemessages escape="false"></apex:pagemessages>
                                    </div>
                                    </apex:outputpanel>
                                    </apex:outputpanel>
                                        <div class="accordion-content">
                                            <!-- Add new Related Information Landscape section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add Related Information Source(s)</legend>
                                                <apex:inputField value="{!oRelatedLandscape.Information_Landscape__c}" required="false" />                    
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddLandscape}" rerender="relLandscapeTable,noRelLandscape,RelLandscapeError,FeedbackButton1,FeedbackButton2" />
                                            </fieldset>
                                            <!-- Add new Related Information Landscape section ends -->

                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="relLandscapeTable">
                                            <apex:outputpanel rendered="{!lLandscape.size>0}">
                                            <apex:repeat value="{!lLandscape}" var="oMember">
                                            <div class="custom-data-row">
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.Information_Landscape__r.name}</apex:outputLink></span>
                                                <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveLandscape}" rerender="relLandscapeTable,noRelLandscape,RelLandscapeError,FeedbackButton1,FeedbackButton2">
                                                    <apex:param name="teamMember" value="{!oMember.Information_Landscape__c}" assignTo="{!teammember}" />
                                                </apex:commandlink>
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noRelLandscape">
                                            <apex:outputpanel rendered="{!lLandscape.size==0}">
                                            <span class="content"><strong>No Related Information Source(s)</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel> 
                                        </div>
                                    </fieldset>
                                    </apex:actionregion>
                                </div>
                            
                            </section>          
        <!-- -------------------------------------------------------Publications & Deliverables Section------------------------------------------------------------------------------- -->
                           <apex:outputPanel rendered="{!If(OR(oStudy.Classification__c == 'Epidemiological Research',oStudy.Classification__c == 'Clinical Research',oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),true,false)}">
                           <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Publications and Deliverables
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Indicate any deliverables that will be associated with the Research Study/Research Topic by selecting the appropriate item(s).  In order to close a Study, if an item is checked,  a link to the source document will be required.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <fieldset class="accordion-child" style="display: block;">
                                    <apex:outputPanel id="PublicationsAndDeliverables">
                                    <apex:actionRegion >
                                        <table class="publications-deliverables-table table table-bordered table-hover table-striped">
                                            <thead>
                                                <tr>
                                                    <th class="col-xs-1">Select</th>
                                                    <th class="col-xs-3">Deliverable Name</th>
                                                    <th class="col-xs-3">Description</th>
                                                    <th class="col-xs-5">URL(s)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr style="display:{!IF( oStudy.Classification__c == 'Basic Research' , 'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Final_Protocol_checkbox__c}"></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Final_Protocol_checkbox__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Final_Protocol_checkbox__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Final_Protocol_checkbox__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Final_Protocol_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Final_Protocol_checkbox__c,oStudy.Final_Protocol__c <>NULL),TRUE,FALSE)}">
                                                        <ul class="url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Final_Protocol__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF( oStudy.Final_Protocol_checkbox__c==FALSE , 'None', '')}">
                                                    <td> 
                                                    <label class="detail-title">Study Protocol Details</label>
                                                    <br/>
                                                    <span class="ico-full-icon-arrow-right2"></span> 
                                                    </td>
                                                    <td colspan="3">
                                                        <div class="row">
                                                        <div class="col-xs-3">
                                                            <span class="detail-question">{!$ObjectType.Project__c.Fields.Protocol_Approval_Required__c.Label}</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Protocol_Approval_Required__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Protocol_Approval_Required__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>
                                                            <p class="detail-answer">
                                                            <apex:outputField value="{!oStudy.Protocol_Approval_Required__c}"/>
                                                            </p>
                                                        </div>
                                                        <div class="col-xs-3">
                                                            <span class="detail-question">{!$ObjectType.Project__c.Fields.Protocol_Approval_Date__c.Label}</span>   
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Protocol_Approval_Date__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Protocol_Approval_Date__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>
                                                            <p class="detail-answer">                                                           
                                                            <apex:outputField value="{!oStudy.Protocol_Approval_Date__c}"/>
                                                            </p>
                                                        </div>                                            
                                                        <div class="col-xs-6">
                                                            <span class="detail-question">{!$ObjectType.Project__c.Fields.Protocol_Title__c.Label}</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Protocol_Title__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Protocol_Title__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>
                                                            <p class="detail-answer">
                                                            <apex:outputField value="{!oStudy.Protocol_Title__c}"/>
                                                            </p>
                                                        </div>
                                                        </div>
                                                    </td>  
                                                </tr>
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Model__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Model__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Model__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Model__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Model_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Model__c,oStudy.Model_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class="url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Model_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title ="{!absoluteurl}"  href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Statistical_Analysis_Plan__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Statistical_Analysis_Plan__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Statistical_Analysis_Plan__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Statistical_Analysis_Plan__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Statistical_Analysis_Plan_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Statistical_Analysis_Plan__c,oStudy.Statistical_Analysis_Plan_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Statistical_Analysis_Plan_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><apex:outputfield value="{!oStudy.Data_Collection_Form__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Data_Collection_Form__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Data_Collection_Form__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Data_Collection_Form__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Data_Collection_Form_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Data_Collection_Form__c,oStudy.Data_Collection_Form_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Data_Collection_Form_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF( oStudy.Classification__c == 'Pre-Clinical Research' , 'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Scientific_Disclosures__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Scientific_Disclosures__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Scientific_Disclosures__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Scientific_Disclosures__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Scientific_Disclosures_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Scientific_Disclosures__c,oStudy.Scientific_Disclosures_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Scientific_Disclosures_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF( oStudy.Scientific_Disclosures__c==FALSE , 'None', '')}">
                                                    <td></td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Datavision_Number__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Datavision_Number__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Datavision_Number__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Datavision_Number__c}" styleClass="col-xs-12"/></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td><apex:outputfield value="{!oStudy.Study_Report__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Study_Report__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Report__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Study_Report__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Study_Project_Report_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Study_Report__c,oStudy.Study_Report_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Study_Report_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF( oStudy.Study_Report__c==FALSE , 'None', '')}">
                                                    <td> 
                                                    <label class="detail-title">Study Report Details</label>
                                                    <br/>
                                                    <span class="ico-full-icon-arrow-right2"></span> 
                                                    </td>
                                                    <td colspan="3">
                                                        <div class="row">
                                                        <div class="col-xs-3">
                                                            <span class="detail-question">{!$ObjectType.Project__c.Fields.Study_Report_Approval_Required__c.Label}</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Report_Approval_Required__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Study_Report_Approval_Required__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>
                                                            <p class="detail-answer">
                                                            <apex:outputField value="{!oStudy.Study_Report_Approval_Required__c}"/>
                                                            </p>
                                                        </div>
                                                        <div class="col-xs-3">
                                                            <span class="detail-question">{!$ObjectType.Project__c.Fields.Study_Report_Approval_Date__c.Label}</span>   
                                                            <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Study_Report_Approval_Date__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.Project__c.Fields.Study_Report_Approval_Date__c.inlinehelptext}</span>
                                                                </div> 
                                                            </apex:outputpanel>
                                                            <p class="detail-answer">
                                                            <apex:outputField value="{!oStudy.Study_Report_Approval_Date__c}"/>
                                                            </p>
                                                        </div>  
                                                        </div>
                                                    </td> 
                                                </tr>
                                               
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.FDAMA_piece__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.FDAMA_piece__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.FDAMA_piece__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.FDAMA_piece__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.FDAMA_piece_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.FDAMA_piece__c,oStudy.FDAMA_piece_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.FDAMA_piece_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Non_Serious_Adverse_Events_List__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Non_Serious_Adverse_Events_List__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Non_Serious_Adverse_Events_List__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Non_Serious_Adverse_Events_List__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Non_Serious_Adverse_Events_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Non_Serious_Adverse_Events_List__c,oStudy.Non_Serious_Adverse_Events_List_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Non_Serious_Adverse_Events_List_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>                                                       
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.AMCP_Formulary_Submission__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.AMCP_Formulary_Submission__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.AMCP_Formulary_Submission__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.AMCP_Formulary_Submission__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Payer_Dossier_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.AMCP_Formulary_Submission__c,oStudy.AMCP_Formulary_Submission_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.AMCP_Formulary_Submission_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Medical_Value_Summary__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Medical_Value_Summary__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Medical_Value_Summary__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Medical_Value_Summary__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Medical_Value_Summary_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Medical_Value_Summary__c,oStudy.Medical_Value_Summary_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Medical_Value_Summary_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Response_to_Regulatory__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Response_to_Regulatory__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Response_to_Regulatory__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Response_to_Regulatory__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Response_to_Regulatory_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Response_to_Regulatory__c,oStudy.Response_to_Regulatory_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Response_to_Regulatory_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr style="display:{!IF(OR( oStudy.Classification__c == 'Basic Research',oStudy.Classification__c == 'Pre-Clinical Research'),'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Response_to_Unsolicited_Non_Regulatory__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Response_to_Unsolicited_Non_Regulatory__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Response_to_Unsolicited_Non_Regulatory__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Response_to_Unsolicited_Non_Regulatory__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Response_to_Non_Regulatory_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Response_to_Unsolicited_Non_Regulatory__c,oStudy.Response_to_Non_Regulatory_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class="url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Response_to_Non_Regulatory_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                               
                                                <tr style="display:{!IF( oStudy.Classification__c == 'Basic Research' , 'None', '')}">
                                                    <td><apex:outputfield value="{!oStudy.Other__c}" ></apex:outputfield>
                                                    </td>
                                                    <td><label>{!$ObjectType.Project__c.Fields.Other__c.Label}</label>
                                                        <apex:outputpanel rendered="{!IF($ObjectType.Project__c.Fields.Other__c.inlinehelptext != NULL,true,false)}">
                                                            <div class="helpOrb tooltip">
                                                                <span>{!$ObjectType.Project__c.Fields.Other__c.inlinehelptext}</span>
                                                            </div>          
                                                        </apex:outputpanel>
                                                    </td>
                                                    <td><apex:outputfield value="{!oStudy.Other_Description__c}" styleClass="col-xs-12"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel rendered="{!IF(AND(oStudy.Other__c,oStudy.Other_URL__c <>NULL),TRUE,FALSE)}">
                                                        <ul class = "url-list">
                                                        <apex:repeat value="{!sMap[$ObjectType.Project__c.Fields.Other_URL__c.Label]}" var="l">
                                                        <apex:variable var="absoluteurl" value="{!IF(CONTAINS(l,"//"),l,"http://"+l)}"></apex:variable>
                                                        <li><a title="{!absoluteurl}" href="{!absoluteurl}" target="__blank">{!If(LEN(absoluteurl)>50,(LEFT(absoluteurl,37)+'...'),absoluteurl)}</a></li>
                                                        </apex:repeat>
                                                        </ul>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                            </tbody>
                                            </table>
                                        </apex:actionRegion>
                                        </apex:outputPanel>
                                    </fieldset>
                                </div>
                            </section>
                            </apex:outputPanel>
<!-- -------------------------------------------------------Study Team Members Section--------------------------------------------------------------------------------- -->                      
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Team Members
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Whoever needs to have Edit access to the Study record or associated Checklist should be added to this section.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span>
                                    </h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="StudyTeamError">
                                        <apex:outputpanel rendered="{!isStudyCountryError}">
                                            <div class="sfdc-errorMessage font-s">
                                                <apex:pagemessages escape="false"></apex:pagemessages>
                                            </div>
                                        </apex:outputpanel>
                                    </apex:outputpanel>
                                        <div class="accordion-content">
                                            <!-- Add new team member section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add team member</legend>
                                                <apex:inputField value="{!oProjectShare.UserOrGroupId}" required="false" />                    
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddStudyTeamMember}" rerender="theTable,StudyTeamError,noMembers"/>
                                                
                                            </fieldset>
                                            <!-- Add new team member section ends -->
                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="theTable">
                                            <apex:outputpanel rendered="{!lStudyTeamMembers.size>0}">
                                            <apex:repeat value="{!lStudyTeamMembers}" var="oMember">
                                            <div class="custom-data-row">
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.Name}</apex:outputLink></span>
                                                <apex:commandlink value="remove" styleclass="remove-custom-data-row" action="{!RemoveStudyTeamMember}" rerender="theTable,noMembers">
                                                    <apex:param name="teamMember" value="{!oMember.id}" assignTo="{!teamMember}" />
                                                </apex:commandlink>
                                                
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noMembers">
                                            <apex:outputpanel rendered="{!lStudyTeamMembers.size==0}">
                                            <span class="content"><strong>No Team Members</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                        </div>
                                        
                                    </fieldset>
                                    </apex:actionregion>
                                </div>
                            </section>                            
<!-- -------------------------------------------------------Study Benefiting Countries Section--------------------------------------------------------------------------------- -->                      
                            <apex:outputPanel rendered="{!If(oStudy.Classification__c == 'Epidemiological Research',True,False)}">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Countries benefiting from Study
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Choose the countries that will primarily benefit (i.e. if a country requests a Research Study/Research Topic, then they should be chosen as the benefactor). If numerous countries benefit that make it impractical to enter, leave field blank.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <apex:actionregion >
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="BnftCntryError"><apex:outputpanel rendered="{!isBenefitCountryError}"><div class="sfdc-errorMessage font-s">
                                    
                                        <apex:pagemessages escape="false"></apex:pagemessages>
                                    </div></apex:outputpanel></apex:outputpanel>
                                        <div class="accordion-content">
                                            <!-- Add new team member section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add Benefiting Country</legend>
                                                <apex:inputField value="{!oBenifitingCountry.Country__c}" required="false" />                    
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddBenifitingCountry}" rerender="theBnftCntryTable,noBnftCountries,BnftCntryError,studyconductingcountries"/>
                                                
                                            </fieldset>
                                            <!-- Add new team member section ends -->
                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="theBnftCntryTable">
                                            <apex:outputpanel rendered="{!lBenifitingCountries.size>0}">
                                            <apex:repeat value="{!lBenifitingCountries}" var="oMember">
                                            <div class="custom-data-row">
                                                
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.Country__r.name}</apex:outputLink></span>
                                                
                                                <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveBenifitingCountry}" rerender="theBnftCntryTable,noBnftCountries,BnftCntryError,studyconductingcountries">
                                                    <apex:param name="teamMember" value="{!oMember.Country__c}" assignTo="{!teamMember}" />
                                                </apex:commandlink>
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noBnftCountries">
                                            <apex:outputpanel rendered="{!lBenifitingCountries.size==0}">
                                            <span class="content"><strong>No Benefiting Countries</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>    
                                        </div>
                                        
                                    </fieldset>
                                    </apex:actionregion>
                                </div>
                            </section>
                            </apex:outputPanel>
                            
<!-- -------------------------------------------------------Study Conducting Countries Section--------------------------------------------------------------------------------- -->                           
                            <apex:outputPanel rendered="{!If(OR(oStudy.Classification__c == 'Epidemiological Research',oStudy.Classification__c == 'Clinical Research'),true,false)}">
                            <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Countries the Study is being conducted in
                                            <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Add the Country(ies) where the Study is being conducted. This is NOT where the TPO is located necessarily.  For example, if a survey is being conducted on patients in the UK, then the UK should be added as a country.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span></h2>
                                    <apex:actionregion immediate="true" >
                                    <fieldset class="accordion-child">
                                    <apex:outputPanel id="studyconductingcountries">
                                        <apex:outputpanel id="CdtngCntryError">
                                            <apex:outputpanel rendered="{!isStudyCountryError}">
                                            <div class="sfdc-errorMessage font-s">
                                                <apex:pagemessages escape="false"></apex:pagemessages>
                                            </div>  
                                            </apex:outputpanel>
                                        </apex:outputpanel>
                                        
                                        <div class="accordion-content">
                                            <!-- Add new Study Conducting Country section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <legend>Add Study Conducting Country</legend>
                                                
                                                <apex:inputField value="{!oStudyConductingCountry.Country__c}" required="false" />                    
                                                <apex:commandButton styleClass="btn button" value="Add" action="{!AddStudyConductingCountry}" rerender="theStdCntryTable,noStudyCountries,CdtngCntryError,studyconductingcountries" />

                                                <apex:commandButton styleClass="btn button" value="Copy from Benefiting Countries" action="{!CopyCountries}" rendered="{!IF(AND(oStudy.Project_Status__c == 'Active',lBenifitingCountries.size>0),true,false)}" rerender="theStdCntryTable,noStudyCountries,CdtngCntryError,studyconductingcountries" /> 
                                                </fieldset>
                                            <!-- Add new Study Conducting Country section ends -->
                                            
                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="theStdCntryTable">
                                            <apex:outputpanel rendered="{!lStudyConductingCountries.size>0}">
                                            <apex:repeat value="{!lStudyConductingCountries}" var="oMember">
                                            <div class="custom-data-row">
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.Country__r.name}</apex:outputLink></span>
                                                <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveStudyConductingCountry}" rerender="theStdCntryTable,noStudyCountries,CdtngCntryError,studyconductingcountries">
                                                    <apex:param name="teamMember" value="{!oMember.Country__c}" assignTo="{!teammember}" />
                                                </apex:commandlink>
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="noStudyCountries">
                                            <apex:outputpanel rendered="{!lStudyConductingCountries.size==0}">
                                            <span class="content"><strong>No Study Conducting Countries</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>                                            
                            
                                        </div>
                                        </apex:outputPanel>
                                    </fieldset>
                                    </apex:actionregion>
                                </div>
                            </section>
                            </apex:outputPanel>
                            


                            
<!-- -------------------------------------------------------Request Section--------------------------------------------------------------------------------- -->                      
                            <section class="row">

                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Requests
                                    <!-- HELP ORB Markup HERE -->
                                    <span class="helpOrb tooltip">
                                        <span>Use this section to make any associated Requests.  This field does not work in "Edit" mode.  Save and then return to this section to make Requests.</span>
                                    </span>
                                    <span class="icon-large-caret pull-right down"></span>
                                    </h2>
                                    <fieldset class="accordion-child">
                                    <apex:outputpanel id="RequestSection"></apex:outputpanel>
                                        <div class="accordion-content">
                                            <!-- Add new Request section starts -->
                                            <fieldset class="add-new-item hidden-xs">
                                                <apex:commandButton styleClass="btn button" value="Create New Request" action="{!goToRequests}"/>
                                            </fieldset> 
                                                                              
                                            <!-- Add new Request section ends -->
                                            <!-- Iteration unit starts -->
                                            <apex:outputpanel id="RequestTable">
                                            <apex:outputpanel rendered="{!lRequests.size > 0}">
                                            <apex:repeat value="{!lRequests}" var="oMember">
                                            <div class="custom-data-row">
                                                <span class="content"><apex:outputLink value="/{!oMember.Id}">{!oMember.RecordType.Name}: {!oMember.name} ({!oMember.Request_Status__c})</apex:outputLink></span>
                                            </div>
                                            </apex:repeat>
                                            </apex:outputpanel>
                                            </apex:outputpanel>
                                            
                                            <apex:outputpanel id="NoRequests">
                                            <apex:outputpanel rendered="{!lRequests.size==0}">
                                            <span class="content"><strong>No Requests</strong></span>
                                            </apex:outputpanel>
                                            </apex:outputpanel>    
                                        </div>
                                        
                                    </fieldset>
                                </div>
                            </section>


<!-- -------------------------------------------------------After all Sections----------------------------------------------------------------------------------->                      

                            <!-- -------------------------------------------------------Buttons Section-------------------------------------------------------------------------------------------- -->
                            <section class="row submit hidden-xs">
                                <div class="col-xs-12">
                                    <apex:commandButton styleClass="button" value="Edit" action="{!EditRecord}"  rendered="{!IsMember}"/>
                                    <apex:outputPanel rendered="{!IF(IsLink,true,false)}">
                                        <apex:outputLink styleClass="btn button" value="/apex/Questionnaire?id={!oStudy.Id}" rendered="{!If(oStudy.Study_Stage__c=='Questionnaire',true,false)}">Go to Questionnaire</apex:outputLink>
                                        <apex:outputLink styleClass="btn button" value="/apex/Questionnaire?id={!oStudy.Id}" rendered="{!If(oStudy.Study_Stage__c=='Questionnaire Needs Review',true,false)}">Review Questionnaire</apex:outputLink>
                                        <apex:outputLink styleClass="btn button" value="/apex/Questionnaire?id={!oStudy.Id}" rendered="{!If(OR(oStudy.Study_Stage__c==NULL,oStudy.Study_Stage__c==''),true,false)}">Initiate Questionnaire</apex:outputLink>
                                        <apex:outputLink styleClass="btn button" value="/apex/Checklist?id={!oStudy.Id}" rendered="{!If(AND(oStudy.Study_Stage__c!='Questionnaire',oStudy.Study_Stage__c!='Questionnaire Needs Review',oStudy.Study_Stage__c!=NULL),true,false)}">Go to Checklist</apex:outputLink>
                                    </apex:outputPanel>>
                                </div>
                            </section>
                            
                        </apex:form>
                        
                        <span class="hidden-xs">
                        <apex:relatedList subject="{!$CurrentPage.parameters.id}" list="CombinedAttachments"/>
                        </span>
                       
                    </apex:outputpanel>
                    <!-- ---------------------------------------------------------End of Saved Study Creation Form Output Panel---------------------------------------------------------------------------------------------- -->
                </main>
            </div>
        </div>
        <c:SR2_FooterComponent />
        <c:Webtrends_Tracker />
   </body>
</apex:page>